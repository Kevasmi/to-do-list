(()=>{"use strict";function e(){return{tasksBtn:document.querySelector(".tasks"),todayBtn:document.querySelector(".today"),weekBtn:document.querySelector(".week"),projectWrapper:document.querySelector(".project-menu"),projectBtn:document.querySelector(".projects"),dropDownArrow:document.querySelector(".drop-down"),activeTasksContainer:document.querySelector(".active-tasks"),newTaskBtn:document.querySelector(".new-task"),modalContainer:document.querySelector(".modal-container"),modalCloseBtn:document.querySelector(".close-btn"),form:document.querySelector("form"),titleInput:document.querySelector("#title"),descInput:document.querySelector("#description"),dateInput:document.querySelector("#due-date"),priorityInput:document.querySelector("#priority"),projectInput:document.querySelector("#project"),submitBtn:document.querySelector("#submit-btn"),taskCloseBtn:document.querySelector(".close-button")}}const t=e();function n(){t.modalContainer.classList.add("show"),document.body.style.pointerEvents="none"}function o(){t.modalContainer.classList.remove("show"),document.body.style.pointerEvents="auto",t.titleInput.value="",t.descInput.value="",t.dateInput.value="",t.priorityInput.value="--Please choose an option--",t.projectInput.value=""}function r(e){const t=document.createElement("div"),n=document.createElement("h3"),o=document.createElement("p"),r=document.createElement("div"),c=document.createElement("p"),a=document.createElement("p"),s=document.createElement("button");return t.classList.add("task","container"),s.classList.add("close-button"),r.setAttribute("id","date-project-container"),c.classList.add("date"),a.classList.add("project"),n.textContent=e.title,o.textContent=e.description,c.textContent=e.dueDate,a.textContent=e.project,s.innerHTML="&times;",t.appendChild(n),t.appendChild(o),t.appendChild(r),t.appendChild(s),r.appendChild(c),r.appendChild(a),s.addEventListener("click",(e=>{const t=Array.from(JSON.parse(localStorage.getItem("tasks")));Array.from(document.querySelectorAll(".task")).indexOf(e.target.parentNode),console.log(t.splice(0,1)),localStorage.setItem("tasks",JSON.stringify(t)),e.target.parentNode.remove()})),t}!function(){const t=e();null===localStorage.getItem("tasks")?localStorage.setItem("tasks",JSON.stringify(tasks)):JSON.parse(localStorage.getItem("tasks")).forEach((e=>{const n=r(e);t.activeTasksContainer.appendChild(n)})),function(){const t=e();t.projectBtn.addEventListener("click",(()=>{t.projectWrapper.classList.toggle("height"),t.dropDownArrow.classList.toggle("rotate")})),t.newTaskBtn.addEventListener("click",(()=>{n()})),t.modalCloseBtn.addEventListener("click",(()=>{o()})),t.form.addEventListener("submit",(t=>{t.preventDefault(),function(){const t=e(),n=function(e,t,n,o,c){let a=localStorage.getItem("tasks"),s=a?JSON.parse(a):[];const l={title:e,description:t,dueDate:n,priority:o,project:null!=c?c:"none"};s.push(l);const u=r(l);return localStorage.setItem("tasks",JSON.stringify(s)),u}(t.titleInput.value,t.descInput.value,t.dateInput.value,t.priorityInput.value,t.projectInput.value);t.activeTasksContainer.appendChild(n),o()}()}))}()}()})();