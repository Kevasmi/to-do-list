(()=>{"use strict";function e(){return{tasksBtn:document.querySelector(".tasks"),todayBtn:document.querySelector(".today"),weekBtn:document.querySelector(".week"),projectWrapper:document.querySelector(".project-menu"),projectBtn:document.querySelector(".projects"),dropDownArrow:document.querySelector(".drop-down"),tasksContainer:document.querySelector(".tasks-container"),activeTasksContainer:document.querySelector(".active-tasks"),newTaskBtn:document.querySelector(".new-task"),modalContainer:document.querySelector(".modal-container"),modalCloseBtn:document.querySelector(".close-btn"),form:document.querySelector("form"),titleInput:document.querySelector("#title"),descInput:document.querySelector("#description"),dateInput:document.querySelector("#due-date"),priorityInput:document.querySelector("#priority"),projectInput:document.querySelector("#project"),submitBtn:document.querySelector("#submit-btn"),taskCloseBtn:document.querySelector(".close-button")}}const t=e();function n(){t.modalContainer.classList.add("show"),document.body.style.pointerEvents="none"}function r(){t.modalContainer.classList.remove("show"),document.body.style.pointerEvents="auto",t.titleInput.value="",t.descInput.value="",t.dateInput.value="",t.priorityInput.value="--Please choose an option--",t.projectInput.value=""}function a(e){const t=document.createElement("div"),n=document.createElement("h3"),r=document.createElement("p"),a=document.createElement("div"),o=document.createElement("p"),c=document.createElement("p"),i=document.createElement("button");return t.classList.add("task","container"),i.classList.add("close-button"),a.setAttribute("id","date-project-container"),o.classList.add("date"),c.classList.add("project"),n.textContent=e.title,r.textContent=e.description,o.textContent=e.dueDate,c.textContent=e.project,i.innerHTML="&times;",t.appendChild(n),t.appendChild(r),t.appendChild(a),t.appendChild(i),a.appendChild(o),a.appendChild(c),i.addEventListener("click",(e=>{const t=Array.from(JSON.parse(localStorage.getItem("tasks"))),n=Array.from(document.querySelectorAll(".task")).indexOf(e.target.parentNode);t.splice(n,1),localStorage.setItem("tasks",JSON.stringify(t)),e.target.parentNode.remove()})),t}function o(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function c(e){o(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function i(e){return o(1,arguments),e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function s(e){if(o(1,arguments),!i(e)&&"number"!=typeof e)return!1;var t=c(e);return!isNaN(Number(t))}function l(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}Math.pow(10,8);var u=36e5;function d(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function p(e,t){o(1,arguments);var n=t||{},r=null==n.additionalDigits?2:d(n.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var a,c=S(e);if(c.date){var i=y(c.date,r);a=w(i.restDateString,i.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var s,l=a.getTime(),u=0;if(c.time&&(u=N(c.time),isNaN(u)))return new Date(NaN);if(!c.timezone){var p=new Date(l+u),m=new Date(0);return m.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),m.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),m}return s=k(c.timezone),isNaN(s)?new Date(NaN):new Date(l+u+s)}var m={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},f=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,g=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,v=/^([+-])(\d{2})(?::?(\d{2}))?$/;function S(e){var t,n={},r=e.split(m.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],m.timeZoneDelimiter.test(n.date)&&(n.date=e.split(m.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var a=m.timezone.exec(t);a?(n.time=t.replace(a[1],""),n.timezone=a[1]):n.time=t}return n}function y(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var a=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:null===o?a:100*o,restDateString:e.slice((r[1]||r[2]).length)}}function w(e,t){if(null===t)return new Date(NaN);var n=e.match(f);if(!n)return new Date(NaN);var r=!!n[4],a=h(n[1]),o=h(n[2])-1,c=h(n[3]),i=h(n[4]),s=h(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,i,s)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var a=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+a),r}(t,i,s):new Date(NaN);var l=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(C[t]||(b(e)?29:28))}(t,o,c)&&function(e,t){return t>=1&&t<=(b(e)?366:365)}(t,a)?(l.setUTCFullYear(t,o,Math.max(a,c)),l):new Date(NaN)}function h(e){return e?parseInt(e):1}function N(e){var t=e.match(g);if(!t)return NaN;var n=D(t[1]),r=D(t[2]),a=D(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a)?n*u+6e4*r+1e3*a:NaN}function D(e){return e&&parseFloat(e.replace(",","."))||0}function k(e){if("Z"===e)return 0;var t=e.match(v);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,a)?n*(r*u+6e4*a):NaN}var C=[31,null,31,30,31,30,31,31,30,31,30,31];function b(e){return e%400==0||e%4==0&&e%100!=0}function I(e,t){o(1,arguments);var n=t||{},r=n.locale,a=r&&r.options&&r.options.weekStartsOn,i=null==a?0:d(a),s=null==n.weekStartsOn?i:d(n.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=c(e),u=l.getDay(),p=(u<s?7:0)+u-s;return l.setDate(l.getDate()-p),l.setHours(0,0,0,0),l}function T(e,t,n){o(2,arguments);var r=I(e,n),a=I(t,n);return r.getTime()===a.getTime()}function E(e,t){return o(1,arguments),T(e,Date.now(),t)}function q(){const t=e();t.tasksBtn.addEventListener("click",(()=>{const e=document.querySelectorAll(".task");for(const t of e)t.remove();JSON.parse(localStorage.getItem("tasks")).forEach((e=>{const n=a(e);t.activeTasksContainer.appendChild(n)}))})),t.todayBtn.addEventListener("click",(()=>{const e=document.querySelectorAll(".task");for(const t of e)t.remove();const n=JSON.parse(localStorage.getItem("tasks")).filter((e=>e.dueDate==function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var n=c(e);if(!s(n))throw new RangeError("Invalid time value");var r=t||{},a=null==r.format?"extended":String(r.format),o=null==r.representation?"complete":String(r.representation);if("extended"!==a&&"basic"!==a)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==o&&"time"!==o&&"complete"!==o)throw new RangeError("representation must be 'date', 'time', or 'complete'");var i="",u="extended"===a?"-":"",d="extended"===a?":":"";if("time"!==o){var p=l(n.getDate(),2),m=l(n.getMonth()+1,2),f=l(n.getFullYear(),4);i="".concat(f).concat(u).concat(m).concat(u).concat(p)}if("date"!==o){var g=l(n.getHours(),2),v=l(n.getMinutes(),2),S=l(n.getSeconds(),2),y=""===i?"":" ";i="".concat(i).concat(y).concat(g).concat(d).concat(v).concat(d).concat(S)}return i}(new Date,{representation:"date"})));n.forEach((e=>{const n=a(e);t.activeTasksContainer.appendChild(n)}))})),t.weekBtn.addEventListener("click",(()=>{const e=document.querySelectorAll(".task");for(const t of e)t.remove();let n=JSON.parse(localStorage.getItem("tasks"));n.forEach((e=>e.dueDateISO=p(e.dueDate)));let r=n.filter((e=>E(e.dueDateISO)));r.forEach((e=>{const n=a(e);t.activeTasksContainer.appendChild(n)})),n.map((e=>p(e.dueDate))),E(p(n[0].dueDate)),console.log(r),console.log(n)})),t.projectBtn.addEventListener("click",(()=>{t.projectWrapper.classList.toggle("height"),t.dropDownArrow.classList.toggle("rotate");const e=document.querySelectorAll(".task");for(const t of e)t.remove();JSON.parse(localStorage.getItem("tasks")).forEach((e=>{const n=a(e);t.activeTasksContainer.appendChild(n),console.log(t.activeTasksContainer)}))})),t.newTaskBtn.addEventListener("click",(()=>{n()})),t.modalCloseBtn.addEventListener("click",(()=>{r()})),t.form.addEventListener("submit",(t=>{t.preventDefault(),function(){const t=e(),n=function(e,t,n,r,o){let c=localStorage.getItem("tasks"),i=c?JSON.parse(c):[];const s={title:e,description:t,dueDate:n,priority:r,project:null!=o?o:"none"};i.push(s);const l=a(s);return localStorage.setItem("tasks",JSON.stringify(i)),l}(t.titleInput.value,t.descInput.value,t.dateInput.value,t.priorityInput.value,t.projectInput.value);t.activeTasksContainer.appendChild(n),r()}()}))}!function(){const t=e();if(null===localStorage.getItem("tasks")){let e=[];localStorage.setItem("tasks",JSON.stringify(e))}else JSON.parse(localStorage.getItem("tasks")).forEach((e=>{const n=a(e);t.activeTasksContainer.appendChild(n)}));q()}()})();